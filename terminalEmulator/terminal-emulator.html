<!doctype html>
<html lang="en">
<head>
  <title>Terminal Emulator</title>
  <meta name="viewport" content="width=device-width">
  <meta charset="utf-8">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  
  <style>
    *{
      padding: 0;
      border: 0;
      margin: 0;
    }
    
    body{
      background-color: black;
      color           : white;
    }
    
    .page{
      height  : 100vh;
      width   : 100vw;
    }
    
    .terminal{
      height      : 600px;
      width       : 800px;
      overflow    : scroll;
      margin      : auto;
      border: 1px solid white;
      white-space : pre-line;
    }
    
    .text-area{
      /*overflow    : ;*/
    }
    
    .input-area{
      white-space: normal;
    }
    
    .input-text{
      /*white-space : pre-line;*/
    }
    
  </style>
  
  <script>
    var keySequence = [];
    var keyCode2Char = {
        "8":    { "normal": "back-space",   },
        "9":    { "normal": "tab",          },
       "13":    { "normal": "enter",        },
       "16":	  { "normal": "shift",        },
       "17":    { "normal": "ctrl",         },
       "18":    { "normal": "alt",          },
       "32":    { "normal": " ",            },
      
       "48":		{ "normal": "0" , "on_shift": ")", },
       "49":		{ "normal": "1" , "on_shift": "!", },
       "50":		{ "normal": "2" , "on_shift": "@", },
       "51":		{ "normal": "3" , "on_shift": "#", },
       "52":		{ "normal": "4" , "on_shift": "$", },
       "53":		{ "normal": "5" , "on_shift": "%", },
       "54":		{ "normal": "6" , "on_shift": "" , },
       "55":		{ "normal": "7" , "on_shift": "&", },
       "56":		{ "normal": "8" , "on_shift": "*", },
       "57":		{ "normal": "9" , "on_shift": "(", },
      
       "65":		{ "normal": "a" , "on_shift": "A", },
       "66":		{ "normal": "b" , "on_shift": "B", },
       "67":		{ "normal": "c" , "on_shift": "C", },
       "68":		{ "normal": "d" , "on_shift": "D", },
       "69":		{ "normal": "e" , "on_shift": "E", },
       "70":		{ "normal": "f" , "on_shift": "F", },
       "71":		{ "normal": "g" , "on_shift": "G", },
       "72":		{ "normal": "h" , "on_shift": "H", },
       "73":		{ "normal": "i" , "on_shift": "I", },
       "74":		{ "normal": "j" , "on_shift": "J", },
       "75":		{ "normal": "k" , "on_shift": "K", },
       "76":		{ "normal": "l" , "on_shift": "L", },
       "77":		{ "normal": "m" , "on_shift": "M", },
       "78":		{ "normal": "n" , "on_shift": "N", },
       "79":		{ "normal": "o" , "on_shift": "O", },
       "80":		{ "normal": "p" , "on_shift": "P", },
       "81":		{ "normal": "q" , "on_shift": "Q", },
       "82":		{ "normal": "r" , "on_shift": "R", },
       "83":		{ "normal": "s" , "on_shift": "S", },
       "84":		{ "normal": "t" , "on_shift": "T", },
       "85":		{ "normal": "u" , "on_shift": "U", },
       "86":		{ "normal": "v" , "on_shift": "V", },
       "87":		{ "normal": "w" , "on_shift": "W", },
       "88":		{ "normal": "x" , "on_shift": "X", },
       "89":		{ "normal": "y" , "on_shift": "Y", },
       "90":	  { "normal": "z" , "on_shift": "Z", },
      
       "91":    { "normal": "meta", }, /*chrome-search*/
      
      "186":    { "normal": "ç" , "on_shift": "Ç", },
      "187":    { "normal": "=" , "on_shift": "+", },
      "188":    { "normal": "," , "on_shift": "<", },
      "189":    { "normal": "-" , "on_shift": "_", },
      "190":    { "normal": "." , "on_shift": ">", },
      "191":    { "normal": ";" , "on_shift": ":", },
      "192":    { "normal": "'" , "on_shift": '"', },
      
      "219":    { "normal": "´" ,  "on_shift": "`", },    /*dead-key*/
      "220":    { "normal": "]" ,  "on_shift": "}", },
      "221":    { "normal": "[" ,  "on_shift": "{", },
      "222":    { "normal": "~" ,  "on_shift": "^", },    /*dead-key*/
      "226":    { "normal": "\\",  "on_shift": "|", },   /*\*/
    } // end - keyCode2Char
    
    function write(){
      
    }
    function setup(){
      
    }// end - setup
    function valid_char(){
      regex_char = /[a-zA-Z0-9]/
    }
    function handleKey(){
      
    }
    $(window).ready(function (){
      $(".text-area").html("Terminal Emulator v0.1<br/>");
      $("body").on("keypress", function(event){
        console.log("keypress event: called");
        console.log(event.key, event.charCode, event.keyCode, event.which);
        if (event.keyCode==9){
          event.preventDefault();
        }
        if (event.key=="Enter"){
          $(".text-area").html( $(".text-area").html()+"<br />"+$(".input-text").html() );
          $(".input-text").html("");
          // $("html,body").animate({ scrollTop: 1000 }, "fast");
        }
        else $(".input-text").html( $(".input-text").html() + event.key);
        $(".terminal").scrollTop( $(".terminal")[0].scrollHeight );
      });
      setup();
    });
  </script>
  
</head>
<body>
  
  <!--<audio id="type-sound" src="" preload="auto"></audio>-->
  
  <div class="page">
    
    <div class="terminal">
      <div class="text-area"></div>
      <div class="input-area">
        <span class="input-usr-id">nelson@terminal</span>
        <span class="input-usr-location">~/</span>
        <span class="input-usr-symbol">></span>
        <span class="input-text"></span>
      </div> <!--end - input-area-->
    </div> <!--end - terminal-->
  
  </div> <!--end - page-->
  
</body>
</html>